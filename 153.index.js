"use strict";(self.webpackChunkself_create=self.webpackChunkself_create||[]).push([[153],{3063:(e,t,n)=>{n.d(t,{P7:()=>k,U_:()=>P});var r=n(3205),i=n(7294),a=n(758),o=n(2367),u=n(9755),s=n(9532),l=n(8008),c=n(5007),d=n(3171),h=n(9464),v=n(4218);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var m=function(e){function t(e){var n,i,a,u;(0,o.A)(this,t),i=this,a=t,a=(0,l.A)(a),n=(0,s.A)(i,f()?Reflect.construct(a,[],(0,l.A)(i).constructor):a.apply(i,u)),(0,r.A)(n,"animationId",-1),(0,r.A)(n,"destroyed",!1),(0,r.A)(n,"handleWindowResize",(function(){n.renderer.setSize(n.domElement.clientWidth,n.domElement.clientHeight);var e=n.domElement.clientWidth/n.domElement.clientHeight;n.updateFrustum(e)})),n.domElement=e;var c=e.clientWidth,v=e.clientHeight;return n.renderer=new d.JeP,n.scene=new h.Z58,n.scene.background=new h.Q1f(657930),n.renderer.setSize(c,v),n.initCamera("orthographic"),n.domElement.append(n.renderer.domElement),n.initCameraControls(),n.addLight(),n.resize(),n}return(0,c.A)(t,e),(0,u.A)(t,[{key:"dispose",value:function(){this.renderer.dispose(),window.removeEventListener("resize",this.handleWindowResize)}},{key:"initCameraControls",value:function(){var e=this,t=new v.N(this.camera,this.renderer.domElement);this.controls=t,t.addEventListener("change",(function(){e.render()}))}},{key:"initCamera",value:function(e){var t="perspective"===e,n=this.domElement.clientWidth/this.domElement.clientHeight;if(t)this.camera=new h.ubm(50,n,.1,2e3),this.camera.position.set(0,0,50);else{this.camera=new h.qUd(-500,500,500/n,-500/n,.1,2e3),this.camera.position.set(0,0,60)}}},{key:"addLight",value:function(){var e=new h.ZyN(16777215,1.5),t=new h.$p8(16777215,Math.PI);e.position.set(5,20,-5),t.position.set(0,20,0),this.add(t,e)}},{key:"setControlEnabled",value:function(e){this.controls.enabled=e}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"add",value:function(){var e;(e=this.scene).add.apply(e,arguments)}},{key:"cleanup",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);r.forEach((function(e){e.removeFromParent(),requestIdleCallback((function(){e.traverse((function(e){return function(e){null==e||e.dispatchEvent({type:"removed"}),e.geometry&&(e.geometry.dispose(),delete e.geometry)}(e)}))}))})),r.length&&this.render()}},{key:"resize",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"updateFrustum",value:function(e){if(this.camera instanceof h.qUd){var t=this.camera.right;this.camera.left=-t,this.camera.right=t,this.camera.top=t/e,this.camera.bottom=-t/e,this.camera.updateProjectionMatrix()}else this.camera instanceof h.ubm&&(this.camera.aspect=e,this.camera.updateProjectionMatrix())}},{key:"renderSync",value:function(){this.destroyed||(this.render(),this.dispatchEvent({type:"afterRender"}))}},{key:"animate",value:function(e){this.renderSync(),this.animationId=requestAnimationFrame(this.animate.bind(this,e)),e&&!this.destroyed&&e()}},{key:"cancelAnimate",value:function(){-1!==this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=-1),this.renderSync()}}])}(function(){return(0,u.A)((function e(){(0,o.A)(this,e),this.listeners=new Map,this.tracedTypeSet=new Set}),[{key:"addEventListener",value:function(e,t){var n=this.listeners.get(e);n||(n=[],this.listeners.set(e,n)),n.includes(t)||n.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this.listeners.get(e);if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},{key:"hasEventListener",value:function(e,t){var n=this.listeners.get(e);return!!n&&n.includes(t)}},{key:"getEventListeners",value:function(e){return this.listeners.get(e)}},{key:"dispatchEvent",value:function(e){var t=this.listeners.get(e.type);if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r+=1)n[r].call(this,e);e.target=null}this.log(e)}},{key:"trace",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){return e.tracedTypeSet.add(t)}))}},{key:"log",value:function(e){if(this.tracedTypeSet.has(e.type)){var t=this.getEventListeners(e.type)||[];console.log("".concat(e.type," event executed ").concat(t.length," listeners")),console.log(t)}}}])}()),y=n(6070);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,a.createContext)(null);function w(e){var t=(0,a.useState)(null),n=(0,i.A)(t,2),r=n[0],o=n[1],u=(0,a.useCallback)((function(e){o((function(){return e?new m(e):(null==r||r.dispose(),null)}))}),[]);(0,a.useEffect)((function(){return function(){r&&r.dispose()}}));var s="inner"===e.mode?e.style||{}:{position:"absolute",top:0,right:0,bottom:0,left:0,userSelect:"none"};return(0,y.jsxs)(k.Provider,{value:r,children:[(0,y.jsx)("div",{ref:u,style:s}),r&&e.children]})}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return(0,y.jsx)(w,p(p({},t),{},{children:(0,y.jsx)(e,p({},n))}))}}},143:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(7294),i=n(2367),a=n(9755),o=n(9464),u=Math.PI/180,s=180/Math.PI,l=2*Math.PI,c=function(){function e(){(0,i.A)(this,e)}return(0,a.A)(e,null,[{key:"round",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round(e*n)/n}},{key:"ceil",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.ceil(e*n)/n}},{key:"floor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.floor(e*n)/n}},{key:"format",value:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},{key:"getDecimals",value:function(e){return Math.floor(e)===e?0:e.toString().split(".")[1].length||0}},{key:"normalizeDegrees",value:function(e){var t=e%360;return t<0&&(t+=360),t}},{key:"clamp",value:function(e,t,n){return Math.max(t,Math.min(n,e))}},{key:"randInt",value:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}},{key:"randIntArray",value:function(t,n,r){var i=[];return Array.from({length:r},(function(){return i.push(e.randInt(t,n))})),i}},{key:"degToRad",value:function(e){return e*u}},{key:"radToDeg",value:function(e){return e*s}},{key:"normalizeRadiansInTwoPI",value:function(e){return e%l}},{key:"normalizeRadiansInPI",value:function(e){var t=this.normalizeRadiansInTwoPI(e);return t>Math.PI?t-=l:t<-Math.PI&&(t+=l),t}},{key:"normalizePositionAngle",value:function(e){return(e%l+l)%l}},{key:"distance",value:function(t,n){var r=e.distanceToSquared(t,n);return Math.sqrt(r)}},{key:"distanceToSquared",value:function(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}},{key:"angle",value:function(t,n){var r=n[0]-t[0],i=n[1]-t[1];return e.radToDeg(Math.atan2(i,r))}},{key:"radian",value:function(t,n){return e.degToRad(e.angle(t,n))}},{key:"mid",value:function(e,t){var n=(0,r.A)(e,2),i=n[0],a=n[1],o=(0,r.A)(t,2),u=[i+(o[0]-i)/2,a+(o[1]-a)/2];return 3===e.length&&3===t.length&&u.push(e[2]+(t[2]-e[2])/2),u}},{key:"isEqual",value:function(e,t){var n=(0,r.A)(e,3),i=n[0],a=n[1],o=n[2],u=(0,r.A)(t,3),s=u[0],l=u[1],c=u[2];return i===s&&a===l&&o===c}},{key:"isAlmostEqual",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(e-t)<n}},{key:"isPointAlmostEqual",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6,a=(0,r.A)(t,3),o=a[0],u=void 0===o?0:o,s=a[1],l=void 0===s?0:s,c=a[2],d=void 0===c?0:c,h=(0,r.A)(n,3),v=h[0],f=void 0===v?0:v,m=h[1],y=void 0===m?0:m,g=h[2],p=void 0===g?0:g;return e.isAlmostEqual(u,f,i)&&e.isAlmostEqual(l,y,i)&&e.isAlmostEqual(d,p,i)}},{key:"lerp",value:function(e,t,n){return e+(t-e)*n}},{key:"inRange",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=[t,n].sort((function(e,t){return e-t})),o=(0,r.A)(a,2),u=o[0],s=o[1];return e>u-i&&e<s+i}},{key:"inClosedRange",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=[t,n].sort((function(e,t){return e-t})),o=(0,r.A)(a,2),u=o[0],s=o[1];return e>=u-i&&e<=s+i}},{key:"alongAxis",value:function(t){return e.inRange(t,-Math.PI/4,Math.PI/4)?0:e.inRange(t,Math.PI/4,3*Math.PI/4)?Math.PI/2:e.inRange(t,-3*Math.PI/4,-Math.PI/4)?3*Math.PI/2:Math.PI}},{key:"getScreenPosition",value:function(e,t,n){var r=e.getBoundingClientRect(),i=new o.I9Y;return i.set(t-r.left,n-r.top),i}},{key:"getNormalizePosition",value:function(t,n,r){var i=e.getScreenPosition(t,n,r),a=t.getBoundingClientRect();return new o.I9Y(i.x/a.width,i.y/a.height)}},{key:"screenToNdc",value:function(t,n,r){var i=e.getNormalizePosition(t,n,r);return new o.I9Y(2*i.x-1,-2*i.y+1)}}])}()}}]);