"use strict";(self.webpackChunkself_create=self.webpackChunkself_create||[]).push([[249],{3630:(n,t,e)=>{e.r(t),e.d(t,{default:()=>D});var i=e(7294),s=e(758),a=e(4367),r=e(7919),l=e(6302),c=e.n(l),o=e(4615),h=e.n(o),d=e(1117),u=e.n(d),v=e(174),f=e.n(v),x=e(5258),g=e.n(x),A=e(4671),m=e.n(A),p=e(751),w={};w.styleTagTransform=m(),w.setAttributes=f(),w.insert=u().bind(null,"head"),w.domAPI=h(),w.insertStyleElement=g(),c()(p.A,w);const y=p.A&&p.A.locals?p.A.locals:void 0;var k=e(2367),b=e(9755),S=e(3205),C=function(){return(0,b.A)((function n(t){var e=this;(0,k.A)(this,n),(0,S.A)(this,"isDrawing",!1),(0,S.A)(this,"lastX",0),(0,S.A)(this,"lastY",0),(0,S.A)(this,"lineWidth",2),(0,S.A)(this,"strokeStyle","#000"),(0,S.A)(this,"startDrawing",(function(n){e.isDrawing=!0;var t=[n.offsetX,n.offsetY];e.lastX=t[0],e.lastY=t[1]})),(0,S.A)(this,"draw",(function(n){if(e.isDrawing){e.ctx.beginPath(),e.ctx.moveTo(e.lastX,e.lastY),e.ctx.lineTo(n.offsetX,n.offsetY),e.ctx.stroke();var t=[n.offsetX,n.offsetY];e.lastX=t[0],e.lastY=t[1]}})),(0,S.A)(this,"stopDrawing",(function(){e.isDrawing=!1})),this.canvas=document.createElement("canvas"),this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight,this.ctx=this.canvas.getContext("2d"),t.appendChild(this.canvas),this.initCanvas(),this.bindEvents()}),[{key:"initCanvas",value:function(){this.ctx.strokeStyle=this.strokeStyle,this.ctx.lineWidth=this.lineWidth,this.ctx.lineCap="round",this.ctx.lineJoin="round"}},{key:"bindEvents",value:function(){this.canvas.addEventListener("mousedown",this.startDrawing),this.canvas.addEventListener("mousemove",this.draw),this.canvas.addEventListener("mouseup",this.stopDrawing),this.canvas.addEventListener("mouseout",this.stopDrawing)}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"setLineWidth",value:function(n){this.lineWidth=n,this.ctx.lineWidth=n}},{key:"setColor",value:function(n){this.strokeStyle=n,this.ctx.strokeStyle=n}},{key:"getImageData",value:function(){return this.canvas.toDataURL()}}])}(),L=e(7747),j=e(6070);function D(){var n=(0,s.useRef)(null),t=(0,s.useRef)(),e=(0,s.useState)(),l=(0,i.A)(e,2),c=l[0],o=l[1];return(0,s.useEffect)((function(){n.current&&(t.current=new C(n.current))}),[]),(0,j.jsxs)("div",{className:y.container,children:[(0,j.jsxs)("div",{className:y.toolbar,children:[(0,j.jsx)(a.Ay,{onClick:function(){var n;null===(n=t.current)||void 0===n||n.clear()},children:"清空画板"}),(0,j.jsxs)("div",{className:y.lineWidth,children:[(0,j.jsx)("span",{children:"线条粗细:"}),(0,j.jsx)(r.A,{min:1,max:20,defaultValue:2,onChange:function(n){var e;null===(e=t.current)||void 0===e||e.setLineWidth(n)},style:{width:200}})]}),(0,j.jsx)(a.Ay,{onClick:function(){var n;o(null===(n=t.current)||void 0===n?void 0:n.getImageData())},children:"生成"})]}),(0,j.jsxs)("div",{className:y.content,children:[(0,j.jsx)("div",{ref:n,className:y.drawArea}),(0,j.jsx)("div",{className:y.previewer,children:(0,j.jsx)(L.A,{imgUrl:c})})]})]})}},751:(n,t,e)=>{e.d(t,{A:()=>l});var i=e(9013),s=e.n(i),a=e(8454),r=e.n(a)()(s());r.push([n.id,".OrLA9Oucd6kQRt_5_Yrp {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  background: #fff;\n}\n.QPrcSoBo00tiCEbtdsK0 {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 16px;\n}\n.oXbvrSKSYVeZo3qJzgnW {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.gFC4x8GnAKQNGxsSgrjL {\n  flex: 1;\n  display: flex;\n}\n.gFC4x8GnAKQNGxsSgrjL .vVn9h9UwAg5bIDELm3y_ {\n  flex: 1;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  background: #fff;\n  overflow: hidden;\n}\n.gFC4x8GnAKQNGxsSgrjL .vVn9h9UwAg5bIDELm3y_ canvas {\n  width: 100%;\n  height: 100%;\n}\n.gFC4x8GnAKQNGxsSgrjL .QBqqRU3xK37dKS5WXt1i {\n  flex: 1;\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n",""]),r.locals={container:"OrLA9Oucd6kQRt_5_Yrp",toolbar:"QPrcSoBo00tiCEbtdsK0",lineWidth:"oXbvrSKSYVeZo3qJzgnW",content:"gFC4x8GnAKQNGxsSgrjL",drawArea:"vVn9h9UwAg5bIDELm3y_",previewer:"QBqqRU3xK37dKS5WXt1i"};const l=r}}]);